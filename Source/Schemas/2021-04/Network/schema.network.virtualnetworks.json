{
    "id": "schema.network.virtualnetworks",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "title": "Virtual Network",
    "description": "Schema for Virtual Network Section",
    "definitions": {
        "virtualnetwork": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "description": "The name of the virtual network."
                },
                "location": {
                    "type": "string",
                    "description": "The location/region where the virtual network has been created."
                },
                "enableDdosProtection": {
                    "type": "boolean",
                    "description": "Specifies if DDoS protection is enabled for all the protected resources in the virtual network."
                },
                "addressSpace": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/addressPrefix"
                    },
                    "description": "The address space that is used for the virtual network. Contains an array of addressPrefix objects that can be used by subnets."
                },
                "subnets": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/subnet"
                    },
                    "description": "An array of subnet objects defined in the virtual network."
                },
                "virtualNetworkPeerings": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/virtualNetworkPeering"
                    },
                    "description": "An array of peerings objects which targets remote virtual networks."
                }
            },
            "additionalProperties": false
        },
        "addressPrefix": {
            "type": "object",
            "required": [
                "addressPrefix"
            ],
            "properties": {
                "addressPrefix": {
                    "type": "string",
                    "description": "The address prefix to use for the address space."
                }
            },
            "additionalProperties": false
        },
        "subnet": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "description": "The name of the subnet."
                },
                "addressPrefix": {
                    "type": "string",
                    "description": "The address prefix to use for the subnet."
                },
                "networkSecurityGroup": {
                    "type": "object",
                    "$ref": "#/definitions/networkSecurityGroup",
                    "description": "A networkSecurityGroup object."
                },
                "routeTable": {
                    "type": "object",
                    "$ref": "#/definitions/routeTable",
                    "description": "A routeTable object."
                }
            },
            "additionalProperties": false
        },
        "virtualNetworkPeering": {
            "type": "object",
            "required": [
                "name",
                "remoteVirtualNetwork"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "description": "The virtual network peering name."
                },
                "remoteVirtualNetwork": {
                    "type": "object",
                    "$ref": "#/definitions/remoteVirtualNetwork",
                    "description": "The remote virtual network."
                }
            },
            "additionalProperties": false
        },
        "remoteVirtualNetwork": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "description": "The remote virtual network name."
                },
                "subscriptionId": {
                    "type": "string",
                    "description": "The subscription identifier where is located the remote virtual network."
                },
                "resourceGroupName": {
                    "type": "string",
                    "description": "The resource group name where is located the remote virtual network."
                }
            },
            "additionalProperties": false
        },
        "networkSecurityGroup": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "description": "The network security group name."
                }
            },
            "additionalProperties": false
        },
        "routeTable": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "description": "The route table name."
                }
            },
            "additionalProperties": false
        }
    }
}